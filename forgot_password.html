<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Password - SaiGonGo</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <style>
      /* Thêm style để ẩn/hiện các bước */
      #step2,
      #loadingMessage,
      #errorMessage,
      #successMessage {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <!-- Bước 1: Nhập Email -->
      <div id="step1">
        <h2>Reset Password</h2>
        <p>
          Please enter your email address below, and we’ll send you an OTP
          to reset your password.
        </p>
        <form id="sendOtpForm">
          <input
            type="email"
            id="email"
            placeholder="Enter your email"
            required
          />
          <button type="submit" class="btn btn-primary">Send OTP</button>
        </form>
      </div>

      <!-- Bước 2: Nhập OTP và Mật khẩu mới -->
      <div id="step2">
        <h2>Enter OTP</h2>
        <p>
          An OTP has been sent to <strong id="userEmailDisplay"></strong>.
        </p>
        <form id="resetPasswordForm">
          <!-- Giữ lại email (disabled) để gửi lên server -->
          <input type="hidden" id="email_hidden" />
          
          <input
            type="text"
            id="otp"
            placeholder="Enter 6-digit OTP"
            required
            pattern="\d{6}"
            maxlength="6"
          />
          <input
            type="password"
            id="new_password"
            placeholder="Enter new password"
            required
          />
          <input
            type="password"
            id="confirm_password"
            placeholder="Confirm new password"
            required
          />
          <button type="submit" class="btn btn-primary">Reset Password</button>
        </form>
      </div>

      <!-- Thông báo loading/lỗi/thành công -->
      <p id="loadingMessage" style="color: blue;">Sending...</p>
      <p id="errorMessage" style="color: red;"></p>
      <p id="successMessage" style="color: green;"></p>

      <p><a href="login.html">Back To Login</a></p>
    </div>

    <!-- Cập nhật JS -->
    <script src="./assets/js/forgot_password.js"></script>
  </body>
</html>
